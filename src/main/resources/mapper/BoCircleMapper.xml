<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.boss.bobi.boCircle.mapper.BoCircleMapper">



    <sql id="Base_Column_List">
        id,user_id,text,
        file_urls,create_time,delete_flag,
        preview_file_urls
    </sql>
    <select id="findBoCircle" resultType="com.boss.bobi.boCircle.model.BoCircleVo">
        SELECT b.id,b.user_id,b.create_time,b.file_urls,b.text,b.file_urls,u.avatar_url,u.nick_name FROM bo_circle b LEFT JOIN user u on b.user_id = u.id
            <where>
                <if test="req.userId != null">
                    u.id = #{req.userId}
                </if>
            </where>
            ORDER BY b.create_time desc
    </select>
</mapper>
